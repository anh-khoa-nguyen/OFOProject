<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}"/>
</head>
<link rel="stylesheet" href="https://unpkg.com/@geoapify/geocoder-autocomplete/styles/minimal.css">

{% extends 'layout/base.html' %}

{% block content %}
<div class="bg-full"
     style="background-image: url('{{ url_for('static', filename='images/cookie.png') }}'); height: 50vh;">
    <!-- Overlay Form -->
    <div class="overlay-form">
        <h6 class="text-muted mb-1">Ch√†o bu·ªïi s√°ng</h6>
        <h2 class="fw-bold mb-4">Where should we deliver your food today?</h2>
      </span>
        <div class="input-group mb-3">
            <span class="input-group-text"><i class="bi bi-geo-alt-fill text-danger"></i></span>
            <input id="addressInput" type="text" class="form-control" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ...">
        </div>

        <button class="btn btn-pink w-100">T√¨m ki·∫øm</button>
    </div>
</div>

<div class="container py-4">
    <h4 class="fw-bold mb-4">∆Øu ƒë√£i Kymie Food t·∫°i <span
            class="text-success">177 T√¥ Hi·∫øn Th√†nh, P.13, Q.10, H·ªì Ch√≠ Minh</span></h4>

    <div class="promo-carousel-wrapper position-relative">
        <!-- N√∫t tr√°i -->
        <button class="carousel-arrow left d-none" id="arrowLeft">
            <i class="bi bi-chevron-left"></i>
        </button>

        <div class="scrolling-wrapper d-flex overflow-hidden flex-nowrap" id="carousel">
            <!-- Card 1 -->
            <div class="card card-promo">
                <div class="position-relative">
                    <img src="{{ url_for('static', filename='images/banhmi.png') }}" class="img-food" alt="B√°nh m√¨">
                    <div class="promo-tag">Promo</div>
                </div>
                <div class="card-body px-3">
                    <p class="restaurant-title">B√°nh M√¨ H√† N·ªôi - Tr∆∞·ªùng S∆°n</p>
                    <p class="text-secondary-small mb-1">B√°nh M√¨ - X√¥i</p>
                    <div class="d-flex align-items-center mb-2 rating">
                        <i class="bi bi-star-fill me-1"></i> 4.6
                        <span class="mx-2">¬∑</span>
                        <i class="bi bi-clock me-1"></i> 15 ph√∫t
                        <span class="mx-2">¬∑</span>
                        0.8 km
                    </div>
                    <p class="offer"><i class="bi bi-tag"></i> Gi·∫£m 1.500‚Ç´ m·ªôt v√†i m√≥n nh·∫•t ƒë·ªãnh</p>
                </div>
            </div>

            <!-- Card 2 -->
            <div class="card card-promo">
                <div class="position-relative">
                    <img src="{{ url_for('static', filename='images/mitron.png') }}" class="img-food" alt="M√¨ tr·ªôn">
                    <div class="promo-tag">Promo</div>
                </div>
                <div class="card-body px-3">
                    <p class="restaurant-title">M√¨ Tr·ªôn T√™n L·ª≠a - CMT8</p>
                    <p class="text-secondary-small mb-1">B√∫n - Ph·ªü - Ch√°o</p>
                    <div class="d-flex align-items-center mb-2 rating">
                        <i class="bi bi-star-fill me-1"></i> 4.3
                        <span class="mx-2">¬∑</span>
                        <i class="bi bi-clock me-1"></i> 25 ph√∫t
                        <span class="mx-2">¬∑</span>
                        1.9 km
                    </div>
                    <p class="offer"><i class="bi bi-tag"></i> M·ªòT NG∆Ø·ªúI ƒÇN - 39.000ƒê BAO M...</p>
                </div>
            </div>

            <!-- Card 3 -->
            <div class="card card-promo">
                <div class="position-relative">
                    <img src="{{ url_for('static', filename='images/garan.png') }}" class="img-food" alt="Jollibee">
                    <div class="promo-tag">Promo</div>
                </div>
                <div class="card-body px-3">
                    <p class="restaurant-title">Jollibee - EC T√¥ Hi·∫øn Th√†nh</p>
                    <p class="text-secondary-small mb-1">Th·ª©c ƒÉn nhanh</p>
                    <div class="d-flex align-items-center mb-2 rating">
                        <i class="bi bi-star-fill me-1"></i> 4.4
                        <span class="mx-2">¬∑</span>
                        <i class="bi bi-clock me-1"></i> 15 ph√∫t
                        <span class="mx-2">¬∑</span>
                        0.2 km
                    </div>
                    <p class="offer"><i class="bi bi-tag"></i> üçó Jollibee ∆Øu ƒê√£i Combo üçó</p>
                </div>
            </div>

            <!-- Card 4 -->
            <div class="card card-promo">
                <div class="position-relative">
                    <img src="{{ url_for('static', filename='images/comtron.png') }}" class="img-food" alt="C∆°m tr·ªôn">
                    <div class="promo-tag">Promo</div>
                </div>
                <div class="card-body px-3">
                    <p class="restaurant-title">Ti·ªám C∆°m Nh√† Tr·ªôn - Ph√∫ Nhu·∫≠n</p>
                    <p class="text-secondary-small mb-1">C∆°m</p>
                    <div class="d-flex align-items-center mb-2 rating">
                        <i class="bi bi-star-fill me-1"></i> 4.5
                        <span class="mx-2">¬∑</span>
                        <i class="bi bi-clock me-1"></i> 25 ph√∫t
                        <span class="mx-2">¬∑</span>
                        2.4 km
                    </div>
                    <p class="offer"><i class="bi bi-tag"></i> ƒê·ªìng Gi√° 33K</p>
                </div>
            </div>

            <!-- Card 5 -->
            <div class="card card-promo">
                <div class="position-relative">
                    <img src="{{ url_for('static', filename='images/comtron.png') }}" class="img-food" alt="C∆°m tr·ªôn">
                    <div class="promo-tag">Promo</div>
                </div>
                <div class="card-body px-3">
                    <p class="restaurant-title">Ti·ªám C∆°m Nh√† Tr·ªôn - Ph√∫ Nhu·∫≠n</p>
                    <p class="text-secondary-small mb-1">C∆°m</p>
                    <div class="d-flex align-items-center mb-1 rating">
                        <i class="bi bi-star-fill me-1"></i> 4.5
                        <span class="mx-2">¬∑</span>
                        <i class="bi bi-clock me-1"></i> 25 ph√∫t
                        <span class="mx-2">¬∑</span>
                        2.4 km
                    </div>
                    <p class="offer"><i class="bi bi-tag"></i> ƒê·ªìng Gi√° 33K</p>
                </div>
            </div>

            <button class="carousel-arrow right" id="arrowRight">
                <i class="bi bi-chevron-right"></i>
            </button>
        </div>

        <!-- Xem t·∫•t c·∫£ -->
        <div class="text-center mt-4 see-all">
            <a href="#" class="text-muted text-decoration-none fw-semibold">See all promotions</a>
        </div>
    </div>


    <div class="container my-5">
        <h2 class="fw-bold text-center mb-4">Th√≠ch ƒÉn g√¨, tui t·ªõi n√®!</h2>

        <div class="row g-4">
            <!-- M√≥n ƒÉn -->
            <div class="col-6 col-md-3">
                <img src="{{ url_for('static', filename='images/category/hutieu.png') }}" class="category-img"
                     alt="Th·ªãt g√†">
                <div class="category-title">H·ªß ti·∫øu</div>
            </div>
            <div class="col-6 col-md-3">
                <img src="{{ url_for('static', filename='images/category/doannhanh.png') }}" class="category-img"
                     alt="Th·ªãt">
                <div class="category-title">Th·ª©c ƒÉn nhanh</div>
            </div>
            <div class="col-6 col-md-3">
                <img src="{{ url_for('static', filename='images/category/banhmi.png') }}" class="category-img"
                     alt="Th·ª©c ƒÉn nhanh">
                <div class="category-title">Th·ª©c ƒÉn nhanh</div>
            </div>
            <div class="col-6 col-md-3">
                <img src="{{ url_for('static', filename='images/category/thitga.png') }}" class="category-img"
                     alt="C∆°m">
                <div class="category-title">C∆°m</div>
            </div>

            <div class="col-6 col-md-3">
                <img src="{{ url_for('static', filename='images/category/trasua.png') }}" class="category-img"
                     alt="C∆°m t·∫•m">
                <div class="category-title">C∆°m t·∫•m</div>
            </div>
            <div class="col-6 col-md-3">
                <img src="{{ url_for('static', filename='images/category/pizza.png') }}" class="category-img"
                     alt="Ch√°o">
                <div class="category-title">Ch√°o</div>
            </div>
            <div class="col-6 col-md-3">
                <img src="{{ url_for('static', filename='images/category/comtam.png') }}" class="category-img"
                     alt="M√¨ √ù">
                <div class="category-title">M√¨ √ù</div>
            </div>
            <div class="col-6 col-md-3">
                <img src="{{ url_for('static', filename='images/category/chao.png') }}" class="category-img"
                     alt="Pizza">
                <div class="category-title">Pizza</div>
            </div>
        </div>
    </div>
</div>

<script>
    const carousel = document.getElementById('carousel');
    const arrowLeft = document.getElementById('arrowLeft');
    const arrowRight = document.getElementById('arrowRight');

    const scrollByAmount = carousel.offsetWidth / 4; // 1 card

    function updateArrows() {
      arrowLeft.classList.toggle('d-none', carousel.scrollLeft === 0);
      arrowRight.classList.toggle(
        'd-none',
        carousel.scrollLeft + carousel.offsetWidth >= carousel.scrollWidth
      );
    }

    arrowLeft.addEventListener('click', () => {
      carousel.scrollBy({ left: -scrollByAmount, behavior: 'smooth' });
      setTimeout(updateArrows, 300);
    });

    arrowRight.addEventListener('click', () => {
      carousel.scrollBy({ left: scrollByAmount, behavior: 'smooth' });
      setTimeout(updateArrows, 300);
    });

    window.addEventListener('load', updateArrows);
    window.addEventListener('resize', updateArrows);
</script>
<script src="https://unpkg.com/@geoapify/geocoder-autocomplete"></script>
<script>
    new Geoapify.GeocoderAutocomplete(
      document.getElementById('autocomplete'),
      '12fffa3303c44dbaaec51de078681daf',
      { /* c√°c tu·ª≥ ch·ªçn nh∆∞ khu v·ª±c, ng√¥n ng·ªØ */ }
    )
    .on('select', (result) => {
      console.log(result); // ch·ª©a ƒë·ªãa ch·ªâ ƒë√£ ch·ªçn v√† coords
    });
</script>
{% endblock %}


